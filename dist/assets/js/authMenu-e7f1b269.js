import{g as et,h as tt,i as re,j as K,k as le,l as j,m as X,n as nt,p as be,q as xe,o as N,e as B,w as T,s as Ee,t as k,u as ot,v as Ne,x as Y,_ as pe,y as je,z as ue,B as st,C as ve,D as Ue,E as _,F as ge,G as Ae,H as $e,I as J,J as ae,K as Oe,L as he,M as De,N as at,O as Ve,P as Se,Q as Ge,R as O,S as rt,T as $,d as ne,U as oe,c as H,V as A,W as L,f as P,a as z,X as We,Y as Je,Z as lt,$ as x,a0 as dt,a1 as it,a2 as te,a3 as ct,a4 as ut,a5 as Be,a6 as ze,a7 as ht,a8 as ft,a9 as Ce,b as ke,aa as pt,ab as gt,ac as Xe,ad as Ye,ae as Re,af as yt,ag as vt,A as Ct,ah as mt,ai as kt}from"./index-86457adf.js";import{E as Nt}from"./el-card-eba467e3.js";import{E as Ze}from"./el-button-4a062950.js";import{E as bt}from"./el-checkbox-18203dcb.js";import{E as Et}from"./el-input-8b14bb78.js";import{E as wt,a as Kt,i as Dt,u as St,b as Bt,c as It}from"./el-overlay-73db4676.js";import{o as Pe,E as Tt}from"./focus-trap-e4a44261.js";import{u as Mt,f as At,a as Fe}from"./use-form-common-props-bfeaacf9.js";import"./index-ca80df4d.js";import"./index-760ddafb.js";import"./_Uint8Array-d5649143.js";const Lt=Symbol("ElSelect"),$t=et({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:tt,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Ot=re({name:"ElText"}),zt=re({...Ot,props:$t,setup(e){const t=e,n=K(),a=Mt(),o=le("text"),s=j(()=>[o.b(),o.m(t.type),o.m(a.value),o.is("truncated",t.truncated),o.is("line-clamp",!X(t.lineClamp))]),r=nt().title,c=()=>{var u,l,d,f,h,g,v;if(r)return;let C=!1;const b=((u=n.value)==null?void 0:u.textContent)||"";if(t.truncated){const w=(l=n.value)==null?void 0:l.offsetWidth,D=(d=n.value)==null?void 0:d.scrollWidth;w&&D&&D>w&&(C=!0)}else if(!X(t.lineClamp)){const w=(f=n.value)==null?void 0:f.offsetHeight,D=(h=n.value)==null?void 0:h.scrollHeight;w&&D&&D>w&&(C=!0)}C?(g=n.value)==null||g.setAttribute("title",b):(v=n.value)==null||v.removeAttribute("title")};return be(c),xe(c),(u,l)=>(N(),B(Y(u.tag),{ref_key:"textRef",ref:n,class:k(ot(s)),style:Ne({"-webkit-line-clamp":u.lineClamp})},{default:T(()=>[Ee(u.$slots,"default")]),_:3},8,["class","style"]))}});var Rt=pe(zt,[["__file","text.vue"]]);const Pt=je(Rt),se="$treeNodeId",He=function(e,t){!t||t[se]||Object.defineProperty(t,se,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Le=(e,t)=>t==null?void 0:t[e||se],Ie=(e,t,n)=>{const a=e.value.currentNode;n();const o=e.value.currentNode;a!==o&&t("current-change",o?o.data:null,o)},Te=e=>{let t=!0,n=!0,a=!0;for(let o=0,s=e.length;o<s;o++){const r=e[o];(r.checked!==!0||r.indeterminate)&&(t=!1,r.disabled||(a=!1)),(r.checked!==!1||r.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:a,half:!t&&!n}},ce=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:a}=Te(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):a?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||ce(o)},me=function(e,t){const n=e.store.props,a=e.data||{},o=n[t];if(_(o))return o(a,e);if(ge(o))return a[o];if(X(o)){const s=a[t];return X(s)?"":s}};let Ft=0;class Q{constructor(t){this.id=Ft++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)ue(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const s=me(this,"isLeaf");st(s)&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),ve(this.data)||He(this,this.data),!this.data)return;const a=t.defaultExpandedKeys,o=t.key;o&&a&&a.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){ve(t)||He(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&ve(this.data)?n=this.data:n=me(this,"children")||[];for(let a=0,o=n.length;a<o;a++)this.insertChild({data:n[a]})}get label(){return me(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return me(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(a=>a===t||n&&a.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,a){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof Q)){if(!a){const o=this.getChildren(!0);o.includes(t.data)||(X(n)||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ue(new Q(t)),t instanceof Q&&t.initialize()}t.level=this.level+1,X(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let a;n&&(a=this.childNodes.indexOf(n)),this.insertChild(t,a)}insertAfter(t,n){let a;n&&(a=this.childNodes.indexOf(n),a!==-1&&(a+=1)),this.insertChild(t,a)}removeChild(t){const n=this.getChildren()||[],a=n.indexOf(t.data);a>-1&&n.splice(a,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===t){n=this.childNodes[a];break}n&&this.removeChild(n)}expand(t,n){const a=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{ve(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ce(this),a())}):a()}doCreateChildren(t,n={}){t.forEach(a=>{this.insertChild(Object.assign({data:a},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,a,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:r,allWithoutDisable:c}=Te(this.childNodes);!this.isLeaf&&!r&&c&&(this.checked=!1,t=!1);const u=()=>{if(n){const l=this.childNodes;for(let h=0,g=l.length;h<g;h++){const v=l[h];o=o||t!==!1;const C=v.disabled?v.checked:o;v.setChecked(C,n,!0,o)}const{half:d,all:f}=Te(l);f||(this.checked=f,this.indeterminate=d)}};if(this.shouldLoadData()){this.loadData(()=>{u(),ce(this)},{checked:t!==!1});return}else u()}const s=this.parent;!s||s.level===0||a||ce(s)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const a=this.store.props;let o="children";return a&&(o=a.children||"children"),X(n[o])&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(s=>s.data),a={},o=[];t.forEach((s,r)=>{const c=s[se];!!c&&n.findIndex(l=>l[se]===c)>=0?a[c]={index:r,data:s}:o.push({index:r,data:s})}),this.store.lazy||n.forEach(s=>{a[s[se]]||this.removeChildByData(s)}),o.forEach(({index:s,data:r})=>{this.insertChild({data:r},s)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const a=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,s)},o=()=>{this.loading=!1};this.store.load(this,a,o)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const a=n.shift();n.unshift(...a.childNodes),t(a)}}reInitChecked(){this.store.checkStrictly||ce(this)}}class Ht{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)ue(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new Q({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,a=this.lazy,o=async function(s){const r=s.root?s.root.childNodes:s.childNodes;for(const[c,u]of r.entries())u.visible=n.call(u,t,u.data,u),c%80===0&&c>0&&await J(),await o(u);if(!s.visible&&r.length){let c=!0;c=!r.some(u=>u.visible),s.root?s.root.visible=c===!1:s.visible=c===!1}t&&s.visible&&!s.isLeaf&&(!a||s.loaded)&&s.expand()};o(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof Q)return t;const n=Ae(t)?Le(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const a=this.getNode(n);a.parent.insertBefore({data:t},a)}insertAfter(t,n){const a=this.getNode(n);a.parent.insertAfter({data:t},a)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const a=$e(n)?this.root:this.getNode(n);a&&a.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(a=>{const o=n[a];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const a=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(c=>{(c.checked||n&&c.indeterminate)&&(!t||t&&c.isLeaf)&&a.push(c.data),o(c)})};return o(this),a}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),n(s)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const a in n)ue(n,a)&&t.push(n[a]);return t}updateChildren(t,n){const a=this.nodesMap[t];if(!a)return;const o=a.childNodes;for(let s=o.length-1;s>=0;s--){const r=o[s];this.remove(r.data)}for(let s=0,r=n.length;s<r;s++){const c=n[s];this.append(c,a.data)}}_setCheckedKeys(t,n=!1,a){const o=this._getAllNodes().sort((u,l)=>u.level-l.level),s=Object.create(null),r=Object.keys(a);o.forEach(u=>u.setChecked(!1,!1));const c=u=>{u.childNodes.forEach(l=>{var d;s[l.data[t]]=!0,(d=l.childNodes)!=null&&d.length&&c(l)})};for(let u=0,l=o.length;u<l;u++){const d=o[u],f=d.data[t].toString();if(!r.includes(f)){d.checked&&!s[f]&&d.setChecked(!1,!1);continue}if(d.childNodes.length&&c(d),d.isLeaf||this.checkStrictly){d.setChecked(!0,!1);continue}if(d.setChecked(!0,!0),n){d.setChecked(!1,!1);const g=function(v){v.childNodes.forEach(b=>{b.isLeaf||b.setChecked(!1,!1),g(b)})};g(d)}}}setCheckedNodes(t,n=!1){const a=this.key,o={};t.forEach(s=>{o[(s||{})[a]]=!0}),this._setCheckedKeys(a,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const a=this.key,o={};t.forEach(s=>{o[s]=!0}),this._setCheckedKeys(a,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const a=this.getNode(n);a&&a.expand(null,this.autoExpandParent)})}setChecked(t,n,a){const o=this.getNode(t);o&&o.setChecked(!!n,a)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const a=t[this.key],o=this.nodesMap[a];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(this.currentNodeKey=t,$e(t)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const a=this.getNode(t);a&&(this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const qt=re({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=le("tree"),n=ae("NodeInstance"),a=ae("RootTree");return()=>{const o=e.node,{data:s,store:r}=o;return e.renderContent?e.renderContent(Oe,{_self:n,node:o,data:s,store:r}):Ee(a.ctx.slots,"default",{node:o,data:s},()=>[Oe(Pt,{tag:"span",truncated:!0,class:t.be("node","label")},()=>[o.label])])}}});var xt=pe(qt,[["__file","tree-node-content.vue"]]);function Qe(e){const t=ae("TreeNodeMap",null),n={treeNodeExpand:a=>{e.node!==a&&e.node.collapse()},children:[]};return t&&t.children.push(n),he("TreeNodeMap",n),{broadcastExpanded:a=>{if(e.accordion)for(const o of n.children)o.treeNodeExpand(a)}}}const _e=Symbol("dragEvents");function jt({props:e,ctx:t,el$:n,dropIndicator$:a,store:o}){const s=le("tree"),r=K({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return he(_e,{treeNodeDragStart:({event:d,treeNode:f})=>{if(_(e.allowDrag)&&!e.allowDrag(f.node))return d.preventDefault(),!1;d.dataTransfer.effectAllowed="move";try{d.dataTransfer.setData("text/plain","")}catch{}r.value.draggingNode=f,t.emit("node-drag-start",f.node,d)},treeNodeDragOver:({event:d,treeNode:f})=>{const h=f,g=r.value.dropNode;g&&g.node.id!==h.node.id&&De(g.$el,s.is("drop-inner"));const v=r.value.draggingNode;if(!v||!h)return;let C=!0,b=!0,w=!0,D=!0;_(e.allowDrop)&&(C=e.allowDrop(v.node,h.node,"prev"),D=b=e.allowDrop(v.node,h.node,"inner"),w=e.allowDrop(v.node,h.node,"next")),d.dataTransfer.dropEffect=b||C||w?"move":"none",(C||b||w)&&(g==null?void 0:g.node.id)!==h.node.id&&(g&&t.emit("node-drag-leave",v.node,g.node,d),t.emit("node-drag-enter",v.node,h.node,d)),C||b||w?r.value.dropNode=h:r.value.dropNode=null,h.node.nextSibling===v.node&&(w=!1),h.node.previousSibling===v.node&&(C=!1),h.node.contains(v.node,!1)&&(b=!1),(v.node===h.node||v.node.contains(h.node))&&(C=!1,b=!1,w=!1);const R=h.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),U=n.value.getBoundingClientRect();let I;const ee=C?b?.25:w?.45:1:-1,F=w?b?.75:C?.55:0:1;let q=-9999;const p=d.clientY-R.top;p<R.height*ee?I="before":p>R.height*F?I="after":b?I="inner":I="none";const y=h.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),S=a.value;I==="before"?q=y.top-U.top:I==="after"&&(q=y.bottom-U.top),S.style.top=`${q}px`,S.style.left=`${y.right-U.left}px`,I==="inner"?at(h.$el,s.is("drop-inner")):De(h.$el,s.is("drop-inner")),r.value.showDropIndicator=I==="before"||I==="after",r.value.allowDrop=r.value.showDropIndicator||D,r.value.dropType=I,t.emit("node-drag-over",v.node,h.node,d)},treeNodeDragEnd:d=>{const{draggingNode:f,dropType:h,dropNode:g}=r.value;if(d.preventDefault(),d.dataTransfer&&(d.dataTransfer.dropEffect="move"),f&&g){const v={data:f.node.data};h!=="none"&&f.node.remove(),h==="before"?g.node.parent.insertBefore(v,g.node):h==="after"?g.node.parent.insertAfter(v,g.node):h==="inner"&&g.node.insertChild(v),h!=="none"&&(o.value.registerNode(v),o.value.key&&f.node.eachNode(C=>{var b;(b=o.value.nodesMap[C.data[o.value.key]])==null||b.setChecked(C.checked,!o.value.checkStrictly)})),De(g.$el,s.is("drop-inner")),t.emit("node-drag-end",f.node,g.node,h,d),h!=="none"&&t.emit("node-drop",f.node,g.node,h,d)}f&&!g&&t.emit("node-drag-end",f.node,null,h,d),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}const Ut=re({name:"ElTreeNode",components:{ElCollapseTransition:wt,ElCheckbox:bt,NodeContent:xt,ElIcon:Ve,Loading:Se},props:{node:{type:Q,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=le("tree"),{broadcastExpanded:a}=Qe(e),o=ae("RootTree"),s=K(!1),r=K(!1),c=K(),u=K(),l=K(),d=ae(_e),f=Ge();he("NodeInstance",f),e.node.expanded&&(s.value=!0,r.value=!0);const h=o.props.props.children||"children";O(()=>{var p;const y=(p=e.node.data)==null?void 0:p[h];return y&&[...y]},()=>{e.node.updateChildren()}),O(()=>e.node.indeterminate,p=>{C(e.node.checked,p)}),O(()=>e.node.checked,p=>{C(p,e.node.indeterminate)}),O(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),O(()=>e.node.expanded,p=>{J(()=>s.value=p),p&&(r.value=!0)});const g=p=>Le(o.props.nodeKey,p.data),v=p=>{const y=e.props.class;if(!y)return{};let S;if(_(y)){const{data:V}=p;S=y(V,p)}else S=y;return ge(S)?{[S]:!0}:S},C=(p,y)=>{(c.value!==p||u.value!==y)&&o.ctx.emit("check-change",e.node.data,p,y),c.value=p,u.value=y},b=p=>{Ie(o.store,o.ctx.emit,()=>{var y;if((y=o==null?void 0:o.props)==null?void 0:y.nodeKey){const V=g(e.node);o.store.value.setCurrentNodeKey(V)}else o.store.value.setCurrentNode(e.node)}),o.currentNode.value=e.node,o.props.expandOnClickNode&&D(),(o.props.checkOnClickNode||e.node.isLeaf&&o.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&R(!e.node.checked),o.ctx.emit("node-click",e.node.data,e.node,f,p)},w=p=>{var y;(y=o.instance.vnode.props)!=null&&y.onNodeContextmenu&&(p.stopPropagation(),p.preventDefault()),o.ctx.emit("node-contextmenu",p,e.node.data,e.node,f)},D=()=>{e.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,f)}))},R=p=>{e.node.setChecked(p,!(o!=null&&o.props.checkStrictly)),J(()=>{const y=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:y.getCheckedNodes(),checkedKeys:y.getCheckedKeys(),halfCheckedNodes:y.getHalfCheckedNodes(),halfCheckedKeys:y.getHalfCheckedKeys()})})};return{ns:n,node$:l,tree:o,expanded:s,childNodeRendered:r,oldChecked:c,oldIndeterminate:u,getNodeKey:g,getNodeClass:v,handleSelectChange:C,handleClick:b,handleContextMenu:w,handleExpandIconClick:D,handleCheckChange:R,handleChildNodeExpand:(p,y,S)=>{a(y),o.ctx.emit("node-expand",p,y,S)},handleDragStart:p=>{o.props.draggable&&d.treeNodeDragStart({event:p,treeNode:e})},handleDragOver:p=>{p.preventDefault(),o.props.draggable&&d.treeNodeDragOver({event:p,treeNode:{$el:l.value,node:e.node}})},handleDrop:p=>{p.preventDefault()},handleDragEnd:p=>{o.props.draggable&&d.treeNodeDragEnd(p)},CaretRight:rt}}});function Vt(e,t,n,a,o,s){const r=$("el-icon"),c=$("el-checkbox"),u=$("loading"),l=$("node-content"),d=$("el-tree-node"),f=$("el-collapse-transition");return ne((N(),H("div",{ref:"node$",class:k([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:L(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:L(e.handleDragStart,["stop"]),onDragover:L(e.handleDragOver,["stop"]),onDragend:L(e.handleDragEnd,["stop"]),onDrop:L(e.handleDrop,["stop"])},[A("div",{class:k(e.ns.be("node","content")),style:Ne({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(N(),B(r,{key:0,class:k([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:L(e.handleExpandIconClick,["stop"])},{default:T(()=>[(N(),B(Y(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):P("v-if",!0),e.showCheckbox?(N(),B(c,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:L(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):P("v-if",!0),e.node.loading?(N(),B(r,{key:2,class:k([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:T(()=>[z(u)]),_:1},8,["class"])):P("v-if",!0),z(l,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),z(f,null,{default:T(()=>[!e.renderAfterExpand||e.childNodeRendered?ne((N(),H("div",{key:0,class:k(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded,onClick:L(()=>{},["stop"])},[(N(!0),H(We,null,Je(e.node.childNodes,h=>(N(),B(d,{key:e.getNodeKey(h),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:h,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[oe,e.expanded]]):P("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[oe,e.node.visible]])}var Gt=pe(Ut,[["render",Vt],["__file","tree-node.vue"]]);function Wt({el$:e},t){const n=le("tree");be(()=>{o()}),xe(()=>{Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(r=>{r.setAttribute("tabindex","-1")})}),lt(e,"keydown",s=>{const r=s.target;if(!r.className.includes(n.b("node")))return;const c=s.code,u=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),l=u.indexOf(r);let d;if([x.up,x.down].includes(c)){if(s.preventDefault(),c===x.up){d=l===-1?0:l!==0?l-1:u.length-1;const h=d;for(;!t.value.getNode(u[d].dataset.key).canFocus;){if(d--,d===h){d=-1;break}d<0&&(d=u.length-1)}}else{d=l===-1?0:l<u.length-1?l+1:0;const h=d;for(;!t.value.getNode(u[d].dataset.key).canFocus;){if(d++,d===h){d=-1;break}d>=u.length&&(d=0)}}d!==-1&&u[d].focus()}[x.left,x.right].includes(c)&&(s.preventDefault(),r.click());const f=r.querySelector('[type="checkbox"]');[x.enter,x.numpadEnter,x.space].includes(c)&&f&&(s.preventDefault(),f.click())});const o=()=>{var s;const r=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(e.value.querySelectorAll("input[type=checkbox]")).forEach(l=>{l.setAttribute("tabindex","-1")});const u=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(s=r[0])==null||s.setAttribute("tabindex","0")}}const Jt=re({name:"ElTree",components:{ElTreeNode:Gt},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:dt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=it(),a=le("tree"),o=ae(Lt,null),s=K(new Ht({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));s.value.initialize();const r=K(s.value.root),c=K(null),u=K(null),l=K(null),{broadcastExpanded:d}=Qe(e),{dragState:f}=jt({props:e,ctx:t,el$:u,dropIndicator$:l,store:s});Wt({el$:u},s);const h=j(()=>{const{childNodes:i}=r.value,m=o?o.hasFilteredOptions!==0:!1;return(!i||i.length===0||i.every(({visible:G})=>!G))&&!m});O(()=>e.currentNodeKey,i=>{s.value.setCurrentNodeKey(i)}),O(()=>e.defaultCheckedKeys,i=>{s.value.setDefaultCheckedKey(i)}),O(()=>e.defaultExpandedKeys,i=>{s.value.setDefaultExpandedKeys(i)}),O(()=>e.data,i=>{s.value.setData(i)},{deep:!0}),O(()=>e.checkStrictly,i=>{s.value.checkStrictly=i});const g=i=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(i)},v=i=>Le(e.nodeKey,i.data),C=i=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const m=s.value.getNode(i);if(!m)return[];const G=[m.data];let ie=m.parent;for(;ie&&ie!==r.value;)G.push(ie.data),ie=ie.parent;return G.reverse()},b=(i,m)=>s.value.getCheckedNodes(i,m),w=i=>s.value.getCheckedKeys(i),D=()=>{const i=s.value.getCurrentNode();return i?i.data:null},R=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const i=D();return i?i[e.nodeKey]:null},U=(i,m)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(i,m)},I=(i,m)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(i,m)},ee=(i,m,G)=>{s.value.setChecked(i,m,G)},F=()=>s.value.getHalfCheckedNodes(),q=()=>s.value.getHalfCheckedKeys(),p=(i,m=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ie(s,t.emit,()=>{d(i),s.value.setUserCurrentNode(i,m)})},y=(i,m=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ie(s,t.emit,()=>{d(),s.value.setCurrentNodeKey(i,m)})},S=i=>s.value.getNode(i),V=i=>{s.value.remove(i)},we=(i,m)=>{s.value.append(i,m)},ye=(i,m)=>{s.value.insertBefore(i,m)},Ke=(i,m)=>{s.value.insertAfter(i,m)},E=(i,m,G)=>{d(m),t.emit("node-expand",i,m,G)},M=(i,m)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(i,m)};return he("RootTree",{ctx:t,props:e,store:s,root:r,currentNode:c,instance:Ge()}),he(At,void 0),{ns:a,store:s,root:r,currentNode:c,dragState:f,el$:u,dropIndicator$:l,isEmpty:h,filter:g,getNodeKey:v,getNodePath:C,getCheckedNodes:b,getCheckedKeys:w,getCurrentNode:D,getCurrentKey:R,setCheckedNodes:U,setCheckedKeys:I,setChecked:ee,getHalfCheckedNodes:F,getHalfCheckedKeys:q,setCurrentNode:p,setCurrentKey:y,t:n,getNode:S,remove:V,append:we,insertBefore:ye,insertAfter:Ke,handleNodeExpand:E,updateKeyChildren:M}}});function Xt(e,t,n,a,o,s){const r=$("el-tree-node");return N(),H("div",{ref:"el$",class:k([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(N(!0),H(We,null,Je(e.root.childNodes,c=>(N(),B(r,{key:e.getNodeKey(c),node:c,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(N(),H("div",{key:0,class:k(e.ns.e("empty-block"))},[Ee(e.$slots,"empty",{},()=>{var c;return[A("span",{class:k(e.ns.e("empty-text"))},te((c=e.emptyText)!=null?c:e.t("el.tree.emptyText")),3)]})],2)):P("v-if",!0),ne(A("div",{ref:"dropIndicator$",class:k(e.ns.e("drop-indicator"))},null,2),[[oe,e.dragState.showDropIndicator]])],2)}var Yt=pe(Jt,[["render",Xt],["__file","tree.vue"]]);const Zt=je(Yt),Me="_trap-focus-children",Z=[],qe=e=>{if(Z.length===0)return;const t=Z[Z.length-1][Me];if(t.length>0&&e.code===x.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,a=e.target===t[0],o=e.target===t[t.length-1];a&&n&&(e.preventDefault(),t[t.length-1].focus()),o&&!n&&(e.preventDefault(),t[0].focus())}},Qt={beforeMount(e){e[Me]=Pe(e),Z.push(e),Z.length<=1&&document.addEventListener("keydown",qe)},updated(e){J(()=>{e[Me]=Pe(e)})},unmounted(){Z.shift(),Z.length===0&&document.removeEventListener("keydown",qe)}},_t=re({name:"ElMessageBox",directives:{TrapFocus:Qt},components:{ElButton:Ze,ElFocusTrap:Tt,ElInput:Et,ElOverlay:Kt,ElIcon:Ve,...ct},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Dt},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:a,ns:o,size:s}=ut("message-box",j(()=>e.buttonSize)),{t:r}=n,{nextZIndex:c}=a,u=K(!1),l=Ue({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Be(Se),cancelButtonLoadingIcon:Be(Se),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:c()}),d=j(()=>{const E=l.type;return{[o.bm("icon",E)]:E&&ze[E]}}),f=Fe(),h=Fe(),g=j(()=>{const E=l.type;return l.icon||E&&ze[E]||""}),v=j(()=>!!l.message),C=K(),b=K(),w=K(),D=K(),R=K(),U=j(()=>l.confirmButtonClass);O(()=>l.inputValue,async E=>{await J(),e.boxType==="prompt"&&E&&V()},{immediate:!0}),O(()=>u.value,E=>{var M,i;E&&(e.boxType!=="prompt"&&(l.autofocus?w.value=(i=(M=R.value)==null?void 0:M.$el)!=null?i:C.value:w.value=C.value),l.zIndex=c()),e.boxType==="prompt"&&(E?J().then(()=>{var m;D.value&&D.value.$el&&(l.autofocus?w.value=(m=we())!=null?m:C.value:w.value=C.value)}):(l.editorErrorMessage="",l.validateError=!1))});const I=j(()=>e.draggable),ee=j(()=>e.overflow);St(C,b,I,ee),be(async()=>{await J(),e.closeOnHashChange&&window.addEventListener("hashchange",F)}),ht(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",F)});function F(){u.value&&(u.value=!1,J(()=>{l.action&&t("action",l.action)}))}const q=()=>{e.closeOnClickModal&&S(l.distinguishCancelAndClose?"close":"cancel")},p=It(q),y=E=>{if(l.inputType!=="textarea")return E.preventDefault(),S("confirm")},S=E=>{var M;e.boxType==="prompt"&&E==="confirm"&&!V()||(l.action=E,l.beforeClose?(M=l.beforeClose)==null||M.call(l,E,l,F):F())},V=()=>{if(e.boxType==="prompt"){const E=l.inputPattern;if(E&&!E.test(l.inputValue||""))return l.editorErrorMessage=l.inputErrorMessage||r("el.messagebox.error"),l.validateError=!0,!1;const M=l.inputValidator;if(_(M)){const i=M(l.inputValue);if(i===!1)return l.editorErrorMessage=l.inputErrorMessage||r("el.messagebox.error"),l.validateError=!0,!1;if(ge(i))return l.editorErrorMessage=i,l.validateError=!0,!1}}return l.editorErrorMessage="",l.validateError=!1,!0},we=()=>{var E,M;const i=(E=D.value)==null?void 0:E.$refs;return(M=i==null?void 0:i.input)!=null?M:i==null?void 0:i.textarea},ye=()=>{S("close")},Ke=()=>{e.closeOnPressEscape&&ye()};return e.lockScroll&&Bt(u),{...ft(l),ns:o,overlayEvent:p,visible:u,hasMessage:v,typeClass:d,contentId:f,inputId:h,btnSize:s,iconComponent:g,confirmButtonClasses:U,rootRef:C,focusStartRef:w,headerRef:b,inputRef:D,confirmRef:R,doClose:F,handleClose:ye,onCloseRequested:Ke,handleWrapperClick:q,handleInputEnter:y,handleAction:S,t:r}}});function en(e,t,n,a,o,s){const r=$("el-icon"),c=$("el-input"),u=$("el-button"),l=$("el-focus-trap"),d=$("el-overlay");return N(),B(pt,{name:"fade-in-linear",onAfterLeave:f=>e.$emit("vanish"),persisted:""},{default:T(()=>[ne(z(d,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:T(()=>[A("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:k(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[z(l,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:T(()=>[A("div",{ref:"rootRef",class:k([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Ne(e.customStyle),tabindex:"-1",onClick:L(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(N(),H("div",{key:0,ref:"headerRef",class:k([e.ns.e("header"),{"show-close":e.showClose}])},[A("div",{class:k(e.ns.e("title"))},[e.iconComponent&&e.center?(N(),B(r,{key:0,class:k([e.ns.e("status"),e.typeClass])},{default:T(()=>[(N(),B(Y(e.iconComponent)))]),_:1},8,["class"])):P("v-if",!0),A("span",null,te(e.title),1)],2),e.showClose?(N(),H("button",{key:0,type:"button",class:k(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:Ce(L(f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[z(r,{class:k(e.ns.e("close"))},{default:T(()=>[(N(),B(Y(e.closeIcon||"close")))]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):P("v-if",!0)],2)):P("v-if",!0),A("div",{id:e.contentId,class:k(e.ns.e("content"))},[A("div",{class:k(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(N(),B(r,{key:0,class:k([e.ns.e("status"),e.typeClass])},{default:T(()=>[(N(),B(Y(e.iconComponent)))]),_:1},8,["class"])):P("v-if",!0),e.hasMessage?(N(),H("div",{key:1,class:k(e.ns.e("message"))},[Ee(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(N(),B(Y(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(N(),B(Y(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:T(()=>[ke(te(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):P("v-if",!0)],2),ne(A("div",{class:k(e.ns.e("input"))},[z(c,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":f=>e.inputValue=f,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:k({invalid:e.validateError}),onKeydown:Ce(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),A("div",{class:k(e.ns.e("errormsg")),style:Ne({visibility:e.editorErrorMessage?"visible":"hidden"})},te(e.editorErrorMessage),7)],2),[[oe,e.showInput]])],10,["id"]),A("div",{class:k(e.ns.e("btns"))},[e.showCancelButton?(N(),B(u,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:k([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:f=>e.handleAction("cancel"),onKeydown:Ce(L(f=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:T(()=>[ke(te(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):P("v-if",!0),ne(z(u,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:k([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:f=>e.handleAction("confirm"),onKeydown:Ce(L(f=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:T(()=>[ke(te(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[oe,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[oe,e.visible]])]),_:3},8,["onAfterLeave"])}var tn=pe(_t,[["render",en],["__file","index.vue"]]);const fe=new Map,nn=e=>{let t=document.body;return e.appendTo&&(ge(e.appendTo)&&(t=document.querySelector(e.appendTo)),Re(e.appendTo)&&(t=e.appendTo),Re(t)||(t=document.body)),t},on=(e,t,n=null)=>{const a=z(tn,e,_(e.message)||Xe(e.message)?{default:_(e.message)?e.message:()=>e.message}:null);return a.appContext=n,Ye(a,t),nn(e).appendChild(t.firstElementChild),a.component},sn=()=>document.createElement("div"),an=(e,t)=>{const n=sn();e.onVanish=()=>{Ye(null,n),fe.delete(o)},e.onAction=s=>{const r=fe.get(o);let c;e.showInput?c={value:o.inputValue,action:s}:c=s,e.callback?e.callback(c,a.proxy):s==="cancel"||s==="close"?e.distinguishCancelAndClose&&s!=="cancel"?r.reject("close"):r.reject("cancel"):r.resolve(c)};const a=on(e,n,t),o=a.proxy;for(const s in e)ue(e,s)&&!ue(o.$props,s)&&(s==="closeIcon"&&Ae(e[s])?o[s]=Be(e[s]):o[s]=e[s]);return o.visible=!0,o};function de(e,t=null){if(!gt)return Promise.reject();let n;return ge(e)||Xe(e)?e={message:e}:n=e.callback,new Promise((a,o)=>{const s=an(e,t??de._context);fe.set(s,{options:e,callback:n,resolve:a,reject:o})})}const rn=["alert","confirm","prompt"],ln={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};rn.forEach(e=>{de[e]=dn(e)});function dn(e){return(t,n,a,o)=>{let s="";return Ae(n)?(a=n,s=""):X(n)?s="":s=n,de(Object.assign({title:s,message:t,type:"",...ln[e]},a,{boxType:e}),o)}}de.close=()=>{fe.forEach((e,t)=>{t.doClose()}),fe.clear()};de._context=null;const W=de;W.install=e=>{W._context=e._context,e.config.globalProperties.$msgbox=W,e.config.globalProperties.$messageBox=W,e.config.globalProperties.$alert=W.alert,e.config.globalProperties.$confirm=W.confirm,e.config.globalProperties.$prompt=W.prompt};const cn=W;const bn={__name:"authMenu",setup(e){const t=yt(),n=vt(),a=Ct(),o={children:"children",label:"title"},s=K(null),r=K([]),c=K([]),u=()=>{cn.confirm("给予权限菜单之后会退出登录","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=s.value.getCheckedNodes(!1,!0).map(d=>d.id);localStorage.setItem("router",JSON.stringify(l)),t.setToken(""),n.replace(kt)})};return be(()=>{r.value=mt.data;const l=JSON.parse(localStorage.getItem("router"))||[],d=a.flatMenuListGet.filter(h=>h.disabled).map(h=>h.id),f=a.flatMenuListGet.filter(h=>h.parentCheck).map(h=>h.id);c.value=l.filter(h=>!f.includes(h)),c.value=[...c.value,...d]}),(l,d)=>{const f=Zt,h=Ze,g=Nt;return N(),H("div",null,[z(g,null,{default:T(()=>[z(f,{ref_key:"tree",ref:s,props:o,data:r.value,"show-checkbox":"","node-key":"id","default-checked-keys":c.value},null,8,["data","default-checked-keys"]),z(h,{type:"primary",onClick:u},{default:T(()=>d[0]||(d[0]=[ke("确认")])),_:1,__:[0]})]),_:1})])}}};export{bn as default};
