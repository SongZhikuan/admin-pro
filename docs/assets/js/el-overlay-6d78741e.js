import{ab as A,C as S,ac as x,i as M,k as H,o as W,e as R,w as X,s as L,aR as $,bf as G,u as K,aa as U,_ as V,y as j,aH as _,g as P,aj as B,a as q,K as J,p as Q,a$ as Z,a7 as F,ar as N,az as ee,l as te,bg as O,R as oe,N as se,bh as ne,bi as ae,M as ie,h as de}from"./index-5a9f64de.js";import{t as re}from"./index-05c4618f.js";let T;const le=t=>{var n;if(!A)return 0;if(T!==void 0)return T;const o=document.createElement("div");o.className=`${t}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const s=o.offsetWidth;o.style.overflow="scroll";const e=document.createElement("div");e.style.width="100%",o.appendChild(e);const i=e.offsetWidth;return(n=o.parentNode)==null||n.removeChild(o),T=s-i,T};var h=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(h||{});const w=t=>{const n=S(t)?t:[t],o=[];return n.forEach(s=>{var e;S(s)?o.push(...w(s)):x(s)&&((e=s.component)!=null&&e.subTree)?o.push(s,...w(s.component.subTree)):x(s)&&S(s.children)?o.push(...w(s.children)):x(s)&&s.shapeFlag===2?o.push(...w(s.type())):o.push(s)}),o},ue=M({name:"ElCollapseTransition"}),ce=M({...ue,setup(t){const n=H("collapse-transition"),o=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},s={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){o(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){o(e)},leaveCancelled(e){o(e)}};return(e,i)=>(W(),R(U,$({name:K(n).b()},G(s)),{default:X(()=>[L(e.$slots,"default")]),_:3},16,["name"]))}});var fe=V(ce,[["__file","collapse-transition.vue"]]);const he=j(fe),me=t=>{if(!t)return{onClick:_,onMousedown:_,onMouseup:_};let n=!1,o=!1;return{onClick:a=>{n&&o&&t(a),n=o=!1},onMousedown:a=>{n=a.target===a.currentTarget},onMouseup:a=>{o=a.target===a.currentTarget}}},pe=P({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:B([String,Array,Object])},zIndex:{type:B([String,Number])}}),ve={click:t=>t instanceof MouseEvent},ye="overlay";var Ee=M({name:"ElOverlay",props:pe,emits:ve,setup(t,{slots:n,emit:o}){const s=H(ye),e=u=>{o("click",u)},{onClick:i,onMousedown:a,onMouseup:l}=me(t.customMaskEvent?void 0:e);return()=>t.mask?q("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:i,onMousedown:a,onMouseup:l},[L(n,"default")],h.STYLE|h.CLASS|h.PROPS,["onClick","onMouseup","onMousedown"]):J("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[L(n,"default")])}});const be=Ee,ge=(t,n,o,s)=>{const e={offsetX:0,offsetY:0},i=(d,r)=>{if(t.value){const{offsetX:v,offsetY:y}=e,c=t.value.getBoundingClientRect(),m=c.left,p=c.top,E=c.width,g=c.height,C=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,k=-m+v,D=-p+y,I=C-m-E+v,z=Y-p-g+y;s!=null&&s.value||(d=Math.min(Math.max(d,k),I),r=Math.min(Math.max(r,D),z)),e.offsetX=d,e.offsetY=r,t.value.style.transform=`translate(${N(d)}, ${N(r)})`}},a=d=>{const r=d.clientX,v=d.clientY,{offsetX:y,offsetY:c}=e,m=E=>{const g=y+E.clientX-r,C=c+E.clientY-v;i(g,C)},p=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",p)},l=()=>{n.value&&t.value&&(n.value.addEventListener("mousedown",a),window.addEventListener("resize",f))},u=()=>{n.value&&t.value&&(n.value.removeEventListener("mousedown",a),window.removeEventListener("resize",f))},b=()=>{e.offsetX=0,e.offsetY=0,t.value&&(t.value.style.transform="")},f=()=>{const{offsetX:d,offsetY:r}=e;i(d,r)};return Q(()=>{Z(()=>{o.value?l():u()})}),F(()=>{u()}),{resetPosition:b,updatePosition:f}},Ce=(t,n={})=>{ee(t)||re("[useLockscreen]","You need to pass a ref param to this function");const o=n.ns||H("popup"),s=te(()=>o.bm("parent","hidden"));if(!A||O(document.body,s.value))return;let e=0,i=!1,a="0";const l=()=>{setTimeout(()=>{typeof document>"u"||i&&document&&(document.body.style.width=a,ie(document.body,s.value))},200)};oe(t,u=>{if(!u){l();return}i=!O(document.body,s.value),i&&(a=document.body.style.width,se(document.body,s.value)),e=le(o.namespace.value);const b=document.documentElement.clientHeight<document.body.scrollHeight,f=ne(document.body,"overflowY");e>0&&(b||f==="scroll")&&i&&(document.body.style.width=`calc(100% - ${e}px)`)}),ae(()=>l())},Se=t=>["",...de].includes(t);export{he as E,be as a,Ce as b,me as c,w as f,Se as i,ge as u};
